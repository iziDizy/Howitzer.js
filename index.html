<!DOCTYPE html>
<html lang="pl">

<head>
  <meta charset="UTF-8" />
  <!-- Added for better mobile/responsive behavior -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Howitzer Simulator</title>
  <!-- Link to the new external stylesheet -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- A single container for all UI elements -->
  <div id="ui-container">

    <!-- ===== Settings Button & Modal ===== -->
    <button id="settings-btn" class="ui-button top-right">Settings</button>

    <div id="settings-modal" class="modal hidden">
      <header class="modal__header">
        <h2>Settings</h2>
      </header>
      <main class="modal__content">
        <div class="modal__setting-item">
          <label for="volume-slider">Sound Volume:</label>
          <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
          <span id="volume-value">100%</span>
        </div>
        <div class="modal__setting-item">
          <label for="graphics-quality">Graphics Quality:</label>
          <select id="graphics-quality">
            <option value="high">High</option>
            <option value="low">Low</option>
          </select>
        </div>
        <div class="modal__setting-item">
          <label><input type="checkbox" id="invert-y"> Invert Barrel Y-Axis</label>
        </div>
        <div class="modal__setting-item">
          <label><input type="checkbox" id="show-hud" checked> Show HUD</label>
        </div>
      </main>
      <footer class="modal__footer">
        <button id="fullscreen-btn" class="modal-btn">Fullscreen</button>
        <button id="reset-settings" class="modal-btn">Reset to Defaults</button>
        <button id="close-settings" class="modal-btn close-btn">Close</button>
      </footer>
    </div>

    <!-- ===== In-Game HUD Elements ===== -->
    <div id="hud" class="hud-container">

      <!-- Barrel Wear (Top-Left) -->
      <div id="barrel-wear-container" class="hud-widget top-left">
        <div class="hud-widget__title">BARREL WEAR</div>
        <div class="progress-bar">
          <div id="barrel-wear-bar" class="progress-bar__inner progress-bar__inner--animated"></div>
        </div>
        <div id="barrel-wear-status" class="hud-widget__status">0%</div>
        <div id="repair-warning" class="hud-widget__warning hidden">
          Barrel requires repair! Press R to repair!
        </div>
      </div>

      <!-- Reload Status (Bottom-Center) -->
      <div id="reload-container" class="hud-widget bottom-center">
        <div id="reload-status">READY</div>
        <div id="reload-bar-container" class="progress-bar">
          <div id="reload-bar" class="progress-bar__inner"></div>
        </div>
      </div>

      <!-- Powder Status (Top-Left, below wear) -->
      <div id="powder-status" class="hud-widget top-left-secondary">POWDER: NITRO</div>


      <!-- ===== Wind Controls (Top-Right) ===== -->
      <div id="wind-controls" class="hud-widget top-right-secondary">
        <h3>Wind</h3>
        <canvas id="wind-canvas" width="200" height="200"></canvas>
        <div class="wind-info">
          Direction: <span id="wind-dir-label">0°</span><br>
          Strength: <span id="wind-strength-label">0.0</span>
        </div>
      </div>

      <!-- ===== On-Screen Controls ===== -->
      <div id="on-screen-controls">
        <button id="rotate-left-btn" class="ui-button round-button bottom-left">⟲</button>
        <button id="rotate-right-btn" class="ui-button round-button bottom-left-secondary">⟳</button>
      </div>

      <!-- ===== Controls Help Info (Bottom-Right) ===== -->
      <div id="controls-info" class="hud-widget bottom-right">
        <strong>Controls</strong>
        <ul>
          <li><b>Arrow Keys</b>: Move howitzer</li>
          <li><b>Q/E or ⟲/⟳</b>: Rotate howitzer</li>
          <li><b>W/S</b>: Elevate barrel</li>
          <li><b>Space</b>: Fire</li>
          <li><b>R</b>: Repair</li>
          <li><b>1/2</b>: Change powder</li>
          <li><b>Mouse</b>: Orbit camera</li>
          <li><b>V</b>: Toggle follow camera</li>
        </ul>
      </div>

      <!-- ===== Repair Overlay ===== -->
      <div id="repair-overlay" class="overlay hidden">
        Repairing... <span id="repair-progress">0%</span>
      </div>
    </div>

  </div> <!-- end #ui-container -->

  <script type="module" src="main.js"></script>
</body>

</html>